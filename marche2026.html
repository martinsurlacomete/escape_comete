<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Message & Minuteur</title>

  <style>
    :root {
      --primary: #6c5ce7;
      --danger: #d63031;
      --background: #f5f6fa;
      --card: #ffffff;
      --text: #2d3436;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: var(--background);
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      color: var(--text);
    }

    .container {
      background: var(--card);
      max-width: 420px;
      width: 100%;
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      text-align: center;
    }

    h1 {
      font-size: 1.4rem;
      font-weight: 600;
      line-height: 1.4;
      margin-bottom: 20px;
    }

    #timer {
      font-size: 3rem;
      font-weight: bold;
      color: var(--danger);
      margin: 20px 0 30px;
    }

    .btn {
      display: inline-block;
      background: linear-gradient(135deg, #6c5ce7, #00cec9);
      color: white;
      border: none;
      border-radius: 999px;
      padding: 14px 26px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(108, 92, 231, 0.35);
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .btn:active {
      transform: scale(0.97);
      box-shadow: 0 4px 10px rgba(108, 92, 231, 0.25);
    }

    .btn:focus {
      outline: none;
    }
  </style>
</head>

<body>

  <div class="container">
    <h1 id="message">⏳ Chargement...</h1>
    <div id="timer"></div>

    <button class="btn">Code couleur</button>
  </div>

  <script>
    const params = new URLSearchParams(window.location.search);

    const message = params.get("message") || 
      "Le secteur de l’automobile est particulièrement émetteur de CO2. Les constructeurs automobiles sont ciblés prioritairement par les pouvoirs publics. En 2025, plusieurs clients constructeurs ont sollicité Céchola pour fournir l’impact carbone de ses produits. Les collaborateurs insistent également pour calculer l’impact carbone de l’entreprise.";

    const duration = parseInt(params.get("time")) || 600;

    document.getElementById("message").textContent = message;

    let time = duration;
    const timerElement = document.getElementById("timer");

    function updateTimer() {
      const minutes = Math.floor(time / 60);
      const seconds = time % 60;
      timerElement.textContent =
        String(minutes).padStart(2, '0') + ":" +
        String(seconds).padStart(2, '0');
      time--;

      if (time < 0) {
        timerElement.textContent = "⏱ Temps écoulé";
        clearInterval(interval);
      }
    }

    updateTimer();
    const interval = setInterval(updateTimer, 1000);
  </script>

</body>
</html>
